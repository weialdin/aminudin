{"ast":null,"code":"export default {\n  name: \"VueJsCounter\",\n  props: {\n    start: {\n      default: 0\n    },\n    end: {\n      default: 0\n    },\n    duration: {\n      default: 2000\n    },\n    thousand: {\n      type: String,\n      default: \".\"\n    },\n    // thousand seperator\n    decimal: {\n      type: String,\n      default: \",\"\n    } // decimal seperator\n  },\n  data() {\n    return {\n      startData: null,\n      endData: null,\n      durationData: null,\n      numberToSum: null,\n      value: null\n    };\n  },\n  methods: {\n    numberWithCommas(value, thousand) {\n      return value.toString().replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, thousand);\n    }\n  },\n  created() {\n    this.startData = parseInt(this.start);\n    this.endData = parseInt(this.end);\n    this.durationData = parseInt(this.duration);\n    if (this.startData == this.endData) {\n      this.value = this.startData;\n    } else {\n      const frameDuration = 1000 / 60;\n      const totalFrames = Math.round(this.duration / frameDuration);\n      const easeOutQuad = t => t * (2 - t);\n      let increasing = true;\n      if (this.startData > this.endData) {\n        this.endData == undefined ? this.endData = 0 : this.endData;\n      } else {\n        increasing = false;\n        this.startData == undefined ? this.startData = 0 : this.startData;\n      }\n      let frame = 0;\n      const countTo = this.endData - this.startData;\n      if (countTo < 0) {\n        countTo * -1;\n      }\n      const counter = setInterval(() => {\n        frame++;\n        const progress = easeOutQuad(frame / totalFrames);\n        const currentCount = Math.round(countTo * progress);\n        if (parseInt(this.value, 10) !== currentCount) {\n          this.value = this.numberWithCommas(increasing ? this.startData + currentCount : this.startData + currentCount, this.thousand);\n        }\n        if (frame === totalFrames) clearInterval(counter);\n      }, frameDuration);\n    }\n  }\n};","map":{"version":3,"names":["name","props","start","default","end","duration","thousand","type","String","decimal","data","startData","endData","durationData","numberToSum","value","methods","numberWithCommas","toString","replace","created","parseInt","frameDuration","totalFrames","Math","round","easeOutQuad","t","increasing","undefined","frame","countTo","counter","setInterval","progress","currentCount","clearInterval"],"sources":["D:\\vue-project\\dizme\\node_modules\\vue-js-counter\\VueJsCounter.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t{{value}}\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: \"VueJsCounter\",\r\n\tprops:{\r\n\t\tstart: {default:0},\r\n\t\tend: {default:0},\r\n\t\tduration: {default:2000},\r\n\t\tthousand: {type: String, default:\".\"}, // thousand seperator\r\n\t\tdecimal: {type: String, default:\",\"} // decimal seperator\r\n\t},\r\n\tdata(){\r\n\t\treturn{\r\n\t\t\tstartData: null,\r\n\t\t\tendData: null,\r\n\t\t\tdurationData: null,\r\n\t\t\tnumberToSum: null,\r\n\t\t\tvalue: null\r\n\t\t}\r\n\t},\r\n\tmethods:{\r\n\t\tnumberWithCommas(value,thousand){\r\n\t\t\treturn value.toString().replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, thousand);\r\n\t\t}\r\n\t},\r\n\tcreated(){\r\n\t\tthis.startData = parseInt(this.start)\r\n\t\tthis.endData = parseInt(this.end)\r\n\t\tthis.durationData = parseInt(this.duration)\r\n\r\n\t\tif(this.startData == this.endData){\r\n\t\t\tthis.value = this.startData\r\n\t\t}\r\n\t\telse{\r\n\t\t\tconst frameDuration = 1000 / 60;\r\n\t\t\tconst totalFrames = Math.round( this.duration / frameDuration );\r\n\t\t\tconst easeOutQuad = t => t * ( 2 - t );\r\n\t\t\tlet increasing = true\r\n\t\t\tif(this.startData>this.endData){this.endData == undefined ? this.endData = 0 : this.endData}\r\n\t\t\telse{\r\n\t\t\t\tincreasing=false\r\n\t\t\t\tthis.startData == undefined ? this.startData = 0 : this.startData\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet frame = 0;\r\n\t\t\tconst countTo = this.endData - this.startData\r\n\t\t\tif(countTo<0){countTo * -1}\r\n\t\t\tconst counter = setInterval( () => {\r\n\t\t\t\tframe++;\r\n\t\t\t\tconst progress = easeOutQuad( frame / totalFrames )\r\n\t\t\t\tconst currentCount = Math.round( countTo * progress )\r\n\t\t\t\tif ( parseInt( this.value, 10 ) !== currentCount ) {\r\n\t\t\t\t\tthis.value = this.numberWithCommas(increasing ? this.startData + currentCount : this.startData + currentCount , this.thousand)\r\n\t\t\t\t}\r\n\t\t\t\tif (frame === totalFrames) clearInterval( counter )\r\n\t\t\t}, frameDuration )\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n</script>"],"mappings":"AAOA,eAAe;EACdA,IAAI,EAAE,cAAc;EACpBC,KAAK,EAAC;IACLC,KAAK,EAAE;MAACC,OAAO,EAAC;IAAC,CAAC;IAClBC,GAAG,EAAE;MAACD,OAAO,EAAC;IAAC,CAAC;IAChBE,QAAQ,EAAE;MAACF,OAAO,EAAC;IAAI,CAAC;IACxBG,QAAQ,EAAE;MAACC,IAAI,EAAEC,MAAM;MAAEL,OAAO,EAAC;IAAG,CAAC;IAAE;IACvCM,OAAO,EAAE;MAACF,IAAI,EAAEC,MAAM;MAAEL,OAAO,EAAC;IAAG,EAAE;EACtC,CAAC;EACDO,IAAIA,CAAA,EAAE;IACL,OAAM;MACLC,SAAS,EAAE,IAAI;MACfC,OAAO,EAAE,IAAI;MACbC,YAAY,EAAE,IAAI;MAClBC,WAAW,EAAE,IAAI;MACjBC,KAAK,EAAE;IACR;EACD,CAAC;EACDC,OAAO,EAAC;IACPC,gBAAgBA,CAACF,KAAK,EAACT,QAAQ,EAAC;MAC/B,OAAOS,KAAK,CAACG,QAAQ,CAAC,CAAC,CAACC,OAAO,CAAC,iCAAiC,EAAEb,QAAQ,CAAC;IAC7E;EACD,CAAC;EACDc,OAAOA,CAAA,EAAE;IACR,IAAI,CAACT,SAAQ,GAAIU,QAAQ,CAAC,IAAI,CAACnB,KAAK;IACpC,IAAI,CAACU,OAAM,GAAIS,QAAQ,CAAC,IAAI,CAACjB,GAAG;IAChC,IAAI,CAACS,YAAW,GAAIQ,QAAQ,CAAC,IAAI,CAAChB,QAAQ;IAE1C,IAAG,IAAI,CAACM,SAAQ,IAAK,IAAI,CAACC,OAAO,EAAC;MACjC,IAAI,CAACG,KAAI,GAAI,IAAI,CAACJ,SAAQ;IAC3B,OACI;MACH,MAAMW,aAAY,GAAI,IAAG,GAAI,EAAE;MAC/B,MAAMC,WAAU,GAAIC,IAAI,CAACC,KAAK,CAAE,IAAI,CAACpB,QAAO,GAAIiB,aAAc,CAAC;MAC/D,MAAMI,WAAU,GAAIC,CAAA,IAAKA,CAAA,IAAM,IAAIA,CAAA,CAAG;MACtC,IAAIC,UAAS,GAAI,IAAG;MACpB,IAAG,IAAI,CAACjB,SAAS,GAAC,IAAI,CAACC,OAAO,EAAC;QAAC,IAAI,CAACA,OAAM,IAAKiB,SAAQ,GAAI,IAAI,CAACjB,OAAM,GAAI,IAAI,IAAI,CAACA,OAAO;MAAA,OACvF;QACHgB,UAAU,GAAC,KAAI;QACf,IAAI,CAACjB,SAAQ,IAAKkB,SAAQ,GAAI,IAAI,CAAClB,SAAQ,GAAI,IAAI,IAAI,CAACA,SAAQ;MACjE;MAEA,IAAImB,KAAI,GAAI,CAAC;MACb,MAAMC,OAAM,GAAI,IAAI,CAACnB,OAAM,GAAI,IAAI,CAACD,SAAQ;MAC5C,IAAGoB,OAAO,GAAC,CAAC,EAAC;QAACA,OAAM,GAAI,CAAC,CAAC;MAAA;MAC1B,MAAMC,OAAM,GAAIC,WAAW,CAAE,MAAM;QAClCH,KAAK,EAAE;QACP,MAAMI,QAAO,GAAIR,WAAW,CAAEI,KAAI,GAAIP,WAAY;QAClD,MAAMY,YAAW,GAAIX,IAAI,CAACC,KAAK,CAAEM,OAAM,GAAIG,QAAS;QACpD,IAAKb,QAAQ,CAAE,IAAI,CAACN,KAAK,EAAE,EAAG,MAAMoB,YAAW,EAAI;UAClD,IAAI,CAACpB,KAAI,GAAI,IAAI,CAACE,gBAAgB,CAACW,UAAS,GAAI,IAAI,CAACjB,SAAQ,GAAIwB,YAAW,GAAI,IAAI,CAACxB,SAAQ,GAAIwB,YAAW,EAAI,IAAI,CAAC7B,QAAQ;QAC9H;QACA,IAAIwB,KAAI,KAAMP,WAAW,EAAEa,aAAa,CAAEJ,OAAQ;MACnD,CAAC,EAAEV,aAAc;IAClB;EACD;AAED","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}